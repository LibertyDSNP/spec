{"version":3,"sources":["webpack:///../pages/Draft/Archivists.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","alt","src","isMDXComponent"],"mappings":"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","file":"component---pages-draft-archivists-md-248ef0e6796a2ab4c534.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/spec/spec/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"draft-archivists-overview\"\n    }}>{`DRAFT: Archivists Overview`}</h1>\n    <p>{`The job of an Archivist is to permanently store Batch content and DSNP Announcements in a format that is easily validated and retrieved.`}</p>\n    <p>{`The Archivist must be able to access chain data and all DSNP Announcement URLs.`}</p>\n    <h2 {...{\n      \"id\": \"validations-that-archivists-could-perform\"\n    }}>{`Validations that Archivists could perform`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Signature validation - proof that author provided a real signature`}</li>\n      <li parentName=\"ul\">{`Signature authentication - proof that the From address is the signer, or that signer is a valid delegate  (proof of authorship)`}</li>\n      <li parentName=\"ul\">{`There is retrievable content at the URL given in the DSNP message`}</li>\n      <li parentName=\"ul\">{`The content hash is valid - that is, the URL serves the claimed data`}</li>\n    </ul>\n    <p>{`All signatures for the announcement are included in the batch regardless of how the signature was requested (or not)`}</p>\n    <h1 {...{\n      \"id\": \"archive-storage-format\"\n    }}>{`Archive Storage Format`}</h1>\n    <p>{`Specify the off-chain Archivist `}<em parentName=\"p\">{`storage`}</em>{` format.`}</p>\n    <h2 {...{\n      \"id\": \"assumptions\"\n    }}>{`Assumptions`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Chain messages are on Ethereum.`}</li>\n      <li parentName=\"ul\">{`Message data is posted via `}<a parentName=\"li\" {...{\n          \"href\": \"https://medium.com/mycrypto/understanding-event-logs-on-the-ethereum-blockchain-f4ae7ba50378\"\n        }}>{`Ethereum log events`}</a>{`.`}</li>\n      <li parentName=\"ul\">{`Signature algorithm is `}<a parentName=\"li\" {...{\n          \"href\": \"https://en.bitcoin.it/wiki/Secp256k1\"\n        }}>{`secp256k1`}</a>{`. This allows the use `}<inlineCode parentName=\"li\">{`ecreover`}</inlineCode>{` to get public keys. A public key also need not be included in a log event for ease of validation.`}</li>\n      <li parentName=\"ul\">{`Content hashes are created via the same `}<a parentName=\"li\" {...{\n          \"href\": \"https://keccak.team/files/Keccak-submission-3.pdf\"\n        }}>{`keccak-256 hashing algorithm`}</a>{` used by Ethereum.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"archive-entry\"\n    }}>{`Archive Entry`}</h2>\n    <p>{`An archive entry is a combination of data in a DSNP message and from the block in which it is included.\nIt is a key-value map consisting of the following fields:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`field name`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`description`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`type`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`dsnpType`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`DSNP message type`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`number/enum. see `}<a parentName=\"td\" {...{\n              \"href\": \"/Announcements/Types\"\n            }}>{`DSNP Message Types`}</a></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`dsnpData`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`DSNP message data`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`see fields in `}<a parentName=\"td\" {...{\n              \"href\": \"/Announcements/Overview\"\n            }}>{`DSNP Messages`}</a></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`signatures`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`list of signatures for this message`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`array of Signatures`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h3 {...{\n      \"id\": \"dsnptype\"\n    }}><inlineCode parentName=\"h3\">{`dsnpType`}</inlineCode></h3>\n    <ul>\n      <li parentName=\"ul\">{`number`}</li>\n      <li parentName=\"ul\">{`Indicates what type of message this is, useful for indexers and filters.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"dsnpdata\"\n    }}><inlineCode parentName=\"h3\">{`dsnpData`}</inlineCode></h3>\n    <ul>\n      <li parentName=\"ul\">{`varies`}</li>\n      <li parentName=\"ul\">{`This can be encrypted where appropriate. The decrypted, fully deserialized version must be one of the types described in `}<a parentName=\"li\" {...{\n          \"href\": \"/Announcements/Overview\"\n        }}>{`DSNP Messages`}</a>{`.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"signatures\"\n    }}><inlineCode parentName=\"h3\">{`signatures`}</inlineCode></h3>\n    <ul>\n      <li parentName=\"ul\">{`array`}</li>\n      <li parentName=\"ul\">{`all the signatures applied to this message at the time of archival.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"batch\"\n    }}>{`Batch`}</h2>\n    <p>{`A `}<em parentName=\"p\">{`Batch`}</em>{` is data that is referenced by a Batch Announcement.\nIt consists of one or more ArchiveEntries.`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`field`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`description`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`type`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`archives`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`a set of ArchiveEntries`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`map`}<inlineCode parentName=\"td\">{`[ArchiveEntry]`}</inlineCode></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`batchID`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`keccak-256 hash of content stored at URL`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`bytes32`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`blockHeight`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`the block number this message was included in`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`number`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`fromAddress`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`social identity of batch announcer,i.e. message sender`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`bytes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`logIndex`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`the index within the logs of this message`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`number`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`signature`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`announcer's signature`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Signature`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`transactionIndex`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`the index of the transaction this message is associated with`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`number`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`url`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`the location of this archive`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h3 {...{\n      \"id\": \"archives\"\n    }}><inlineCode parentName=\"h3\">{`archives`}</inlineCode></h3>\n    <p>{`The set of ArchiveEntries is a key-value map, with the key\nbeing the `}<inlineCode parentName=\"p\">{`archiveEntryID`}</inlineCode>{`, which is a:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`bytes32`}</li>\n      <li parentName=\"ul\">{`The keccak-256 hash of all of the Archive Entry fields in a keccak-256 hash with the archiveEntryID field being blank.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"batchid\"\n    }}><inlineCode parentName=\"h3\">{`batchID`}</inlineCode></h3>\n    <ul>\n      <li parentName=\"ul\">{`bytes32`}</li>\n      <li parentName=\"ul\">{`the keccak-256 hash of content stored at the URL referenced in this batch.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"blockheight\"\n    }}><inlineCode parentName=\"h3\">{`blockHeight`}</inlineCode></h3>\n    <ul>\n      <li parentName=\"ul\">{`number`}</li>\n      <li parentName=\"ul\">{`The block in which this DSNP Message is included.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"fromaddress\"\n    }}><inlineCode parentName=\"h3\">{`fromAddress`}</inlineCode></h3>\n    <p>{`the social identity of the batch announcer, i.e. the message sender.`}</p>\n    <h3 {...{\n      \"id\": \"logindex\"\n    }}><inlineCode parentName=\"h3\">{`logIndex`}</inlineCode></h3>\n    <ul>\n      <li parentName=\"ul\">{`number`}</li>\n      <li parentName=\"ul\">{`The log index in which this DSNP Message is included`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"signature\"\n    }}><inlineCode parentName=\"h3\">{`signature`}</inlineCode></h3>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#Signature\"\n        }}>{`Signature`}</a>{` (see below)`}</li>\n      <li parentName=\"ul\">{`The signature of this batch announcer`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"transactionindex\"\n    }}><inlineCode parentName=\"h3\">{`transactionIndex`}</inlineCode></h3>\n    <ul>\n      <li parentName=\"ul\">{`number`}</li>\n      <li parentName=\"ul\">{`The transaction index in which this DSNP Message is included`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"url\"\n    }}><inlineCode parentName=\"h3\">{`url`}</inlineCode></h3>\n    <ul>\n      <li parentName=\"ul\">{`string`}</li>\n      <li parentName=\"ul\">{`The permanent URL address where this archive is stored.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"signature-1\"\n    }}>{`Signature`}</h2>\n    <p>{`A Signature consists of two fields:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`signature`}</inlineCode>{` - A `}<a parentName=\"li\" {...{\n          \"href\": \"https://en.bitcoin.it/wiki/Secp256k1\"\n        }}>{`secp256k1`}</a>{` signature`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`result`}</inlineCode>{` - Optional, bytes. A result of an operation performed. For example, if a signing entity wished to prove that they had performed some sort of validation or analysis on the message, they would put the result of the analysis in this field. It could be a meaningful number or string, some sort of proof hash, etc.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"diagram\"\n    }}>{`Diagram`}</h2>\n    <p><img alt=\"Archive Messages Diagram\" src=\"https://github.com/LibertyDSNP/spec/blob/c9f55041950e7f54ce07d0f32de6b35d4fa4e7c0/images/ArchiveMessages.png?raw=true\" /></p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}