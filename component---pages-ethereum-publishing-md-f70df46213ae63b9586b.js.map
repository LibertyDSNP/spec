{"version":3,"sources":["webpack:///../pages/Ethereum/Publishing.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---pages-ethereum-publishing-md-f70df46213ae63b9586b.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/spec/spec/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"announcement-publishing\"\n    }}>{`Announcement Publishing`}</h1>\n    <p>{`On Ethereum, all `}<a parentName=\"p\" {...{\n        \"href\": \"/DSNP/Announcements\"\n      }}>{`Announcements`}</a>{` are published via `}<a parentName=\"p\" {...{\n        \"href\": \"/DSNP/BatchPublications\"\n      }}>{`Batch Publication Files`}</a>{`.\nPublishing is accomplished via an Ethereum Log Event.`}</p>\n    <h2 {...{\n      \"id\": \"ethereum-log-event\"\n    }}>{`Ethereum Log Event`}</h2>\n    <p>{`The event topic for `}<inlineCode parentName=\"p\">{`DSNPBatchPublication`}</inlineCode>{` follows the standard Solidity event name to hash standard.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`0xe63a4904ccacc079f71e52aad2cf99c00a7d4963566562a94d7c07610f1df576 = keccak-256(\"DSNPBatchPublication(int16,bytes32,string)\")\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"log-event-data\"\n    }}>{`Log Event Data`}</h3>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Field`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Indexed`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`announcementType`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The single announcement type in the given file`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`int16`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`YES`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`fileHash`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://keccak.team/files/Keccak-submission-3.pdf\"\n            }}>{`keccak-256`}</a>{` hash of the batch file`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`bytes32`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`no`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`fileUrl`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`URL to retrieve the referenced batch file via an `}<a parentName=\"td\" {...{\n              \"href\": \"#batch-file-retrieval\"\n            }}>{`approved schema`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`string`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`no`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"batch-file-retrieval\"\n    }}>{`Batch File Retrieval`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Batch File URLs MUST NOT refer to localhost or any reserved IP addresses as defined in `}<a parentName=\"li\" {...{\n          \"href\": \"https://datatracker.ietf.org/doc/html/rfc6890\"\n        }}>{`RFC6890`}</a>{`.`}</li>\n      <li parentName=\"ul\">{`Batch File URLs MUST use one of the supported URL Schemes.`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"supported-url-schemes\"\n    }}>{`Supported URL Schemes`}</h3>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Scheme`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Reference`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`DSNP Version Added`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`HTTPS`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Hypertext Transfer Protocol Secure`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://datatracker.ietf.org/doc/html/rfc2818\"\n            }}>{`RFC2818`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`1.0`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"ordering\"\n    }}>{`Ordering`}</h2>\n    <p>{`The `}<inlineCode parentName=\"p\">{`DSNPBatchPublication`}</inlineCode>{` Ethereum events are ordered by information provided in the transaction.`}</p>\n    <ol>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`DSNPBatchPublication`}</inlineCode>{` Block number ascending`}</li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`DSNPBatchPublication`}</inlineCode>{` Transaction index ascending`}</li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`DSNPBatchPublication`}</inlineCode>{` Log index ascending`}</li>\n      <li parentName=\"ol\">{`DSNP Standard: Order Announcements in a Batch Publication File by row appearance order`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"publisher-contract-requirements\"\n    }}>{`Publisher Contract Requirements`}</h2>\n    <p>{`Contracts that allow for generating `}<inlineCode parentName=\"p\">{`DSNPBatchPublication`}</inlineCode>{` are called publishers.\nA standard interface is available for use.`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Interface`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Required`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"#ipublish-interface\"\n            }}>{`IPublish`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Required`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://eips.ethereum.org/EIPS/eip-165\"\n            }}>{`ERC165`}</a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Optional`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"ipublish-interface\"\n    }}>{`IPublish Interface`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-solidity\"\n      }}>{`interface IPublish {\n    struct Publication {\n        int16 announcementType;\n        string fileUrl;\n        bytes32 fileHash;\n    }\n\n    /**\n     * @dev Log Event for each batch published\n     * @param announcementType The type of Announcement in the batch file\n     * @param fileHash The keccak hash of the batch file\n     * @param fileUrl A url that resolves to the batch file\n     */\n    event DSNPBatchPublication(int16 indexed announcementType, bytes32 fileHash, string fileUrl);\n\n    /**\n     * @param publications Array of Batch struct to publish\n     */\n    function publish(Publication[] calldata publications) external;\n}\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}